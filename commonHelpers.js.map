{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '40348092-da5e0a767129707faba1470d8';\n\nexport async function fetchImages(query) {\n  return await fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","// import iziToast from 'izitoast';\nimport * as iziToast from 'izitoast';\nimport { fetchImages } from './pixabay-api';\n\nconst form = document.querySelector('.search-form');\nconst list = document.querySelector('.search-list');\n\nform.addEventListener('submit', evt => {\n  evt.preventDefault();\n  fetchImages(evt.target.elements.search.value)\n    .then(({ hits }) => renderImages(hits))\n    .catch(error => console.log(error));\n});\n\nexport function renderImages(images) {\n  if (images.length === 0) {\n    console.log('dziala');\n    iziToast.show({\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n    });\n  }\n  const markup = images\n    .map(image => {\n      return `\n          <li>\n          <img src='${image.previewURL}'>\n            <p><b>Likes</b>: ${image.q}</p>\n            <p><b>Views</b>: ${image.image_type}</p>\n            <p><b>Comments</b>: ${image.comments}</p>\n            <p><b>Downloads</b>: ${image.safesearch}</p>\n          </li>\n      `;\n    })\n    .join('');\n  list.insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["BASE_URL","API_KEY","fetchImages","query","response","form","list","evt","hits","renderImages","error","images","iziToast.show","markup","image"],"mappings":"svBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAET,eAAeC,EAAYC,EAAO,CACvC,OAAO,MAAM,MACX,GAAGH,CAAQ,QAAQC,CAAO,MAAME,CAAK,0DACzC,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCRA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAO,SAAS,cAAc,cAAc,EAElDD,EAAK,iBAAiB,SAAUE,GAAO,CACrCA,EAAI,eAAc,EAClBL,EAAYK,EAAI,OAAO,SAAS,OAAO,KAAK,EACzC,KAAK,CAAC,CAAE,KAAAC,CAAM,IAAKC,EAAaD,CAAI,CAAC,EACrC,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,CACtC,CAAC,EAEM,SAASD,EAAaE,EAAQ,CAC/BA,EAAO,SAAW,IACpB,QAAQ,IAAI,QAAQ,EACpBC,OAAc,CACZ,QACE,0EACR,CAAK,GAEH,MAAMC,EAASF,EACZ,IAAIG,GACI;AAAA;AAAA,sBAESA,EAAM,UAAU;AAAA,+BACPA,EAAM,CAAC;AAAA,+BACPA,EAAM,UAAU;AAAA,kCACbA,EAAM,QAAQ;AAAA,mCACbA,EAAM,UAAU;AAAA;AAAA,OAG9C,EACA,KAAK,EAAE,EACVR,EAAK,mBAAmB,YAAaO,CAAM,CAC7C"}